(this["webpackJsonpreact-express-starter"]=this["webpackJsonpreact-express-starter"]||[]).push([[0],{110:function(e,t,a){e.exports=a(264)},115:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(5),r=a(0),i=a.n(r),l=a(8),o=a.n(l);a(115);function d(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var c=a(104);function u(e,t,a,n){var r=a?"white":"grey",i=a?"#bababa":"#3b3b3b";return{title:{display:!0,text:n,fontColor:r,fontSize:20},legend:{labels:{fontColor:r}},animation:{duration:0},showLines:e,scales:{xAxes:[{scaleLabel:{display:!0,labelString:t,fontSize:16,fontColor:r},gridLines:{drawOnChartArea:!1,drawTicks:!0,color:i},ticks:{autoSkip:!0,maxTicksLimit:10,fontColor:r}}],yAxes:[{gridLines:{drawOnChartArea:!1,drawTicks:!1,color:i},ticks:{fontColor:r}}]},responsive:!0}}function s(e,t,a,n,r,i){var l=i?["rgba(101,190,242,1)","rgba(240, 249, 255,1)","rbga(255,74,74,1)"]:["rgba(240,145,83,1)","rbga(255, 243, 235, 0.5)","rbga(0,153,255,1)"];return{labels:n.slice(r.start,r.end),datasets:[{label:t,fill:!1,lineTension:.1,backgroundColor:"#00a2ff",borderColor:l[0],borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:l[1],pointBackgroundColor:l[0],pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:l[2],pointHoverBorderColor:l[2],pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10,data:e.slice(r.start,r.end)}]}}var m=function(e){var t=Object(r.useState)({data:{},options:{},ready:!1}),a=Object(n.a)(t,2),l=a[0],o=a[1],m=function(){var e=Object(r.useState)(d()),t=Object(n.a)(e,2),a=t[0],i=t[1];return Object(r.useEffect)((function(){function e(){i(d())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),a}().height;return Object(r.useEffect)((function(){o({data:s(e.array.data,e.select,e.head,e.array.states,e.rangeObj,e.darkMode),options:u(!0,"Iterations",e.darkMode,e.fileName),ready:e.array.ready})}),[e.array,e.rangeObj]),i.a.createElement("div",{className:"view",id:"component"},l.ready?i.a.createElement(c.a,{height:m/8,id:"line-graph",data:l.data,options:l.options}):i.a.createElement("div",{id:"no-input-div"}," ",i.a.createElement("div",null,"To Plot Variable : Select In ",e.fileName)," "))};var f=function(e){var t=Object(r.useState)(["default"]),a=Object(n.a)(t,2),l=a[0],o=a[1];return Object(r.useEffect)((function(){e.status&&(o(e.variables.slice(1)),l.shift("none"))}),[e.variables,e.status]),i.a.createElement("div",{className:"select"},i.a.createElement("p",null,"Variables: \xa0"),i.a.createElement("span",{id:"dropdown"},i.a.createElement("select",{id:"selector",defaultValue:"DEFAULT",onChange:function(){var t=document.getElementById("selector"),a=t.options[t.selectedIndex].text;e.setSelect(a)}},i.a.createElement("option",{value:"DEFAULT",disabled:!0},"Select a variable to plot"),l.map((function(e){return i.a.createElement("option",{key:e,name:e,value:e},e)})))))};var p=function(e){var t=e.rangeObj.end-e.rangeObj.start,a=e.dataArrayLength-t;return Object(r.useEffect)((function(){document.getElementById("window-slider").max=a}),[e.rangeObj]),i.a.createElement("div",{className:"range"},i.a.createElement("div",{id:"slide-window-text"},i.a.createElement("p",null,"Slide Window:")),i.a.createElement("input",{id:"window-slider",type:"range",defaultValue:0,max:e.dataObj.ready?a:100,onChange:function(a){var n=Number(a.target.value),r=n+t;e.setRange({start:n,end:r})}}))},v=new(a(90));var g=function(e){return i.a.createElement("div",{className:"data-section"},i.a.createElement("div",{id:"choose-data-set-text"},i.a.createElement("p",null,"Choose DataSet:")),"\xa0",i.a.createElement("select",{id:"data-selector",defaultValue:"DEFAULT",onChange:function(t){var a=t.target.value;fetch("api/".concat(a),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){v.setData(t.data),e.setData({head:v.getHead(t.data),data:v.getBody(t.data),ready:!0})})).then((function(){var t=e.availableFiles[a-1];e.setFileName(t.fileName)})),e.setArray({states:e.array.states,data:e.array.data,ready:!1}),document.getElementById("selector").value="DEFAULT",e.setRange({start:0,end:200}),document.getElementById("window-slider").value=0}},i.a.createElement("option",{key:"def",value:"DEFAULT",disabled:!0},"Select Data Set"),e.availableFiles.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.fileName)}))))};var b=function(e){var t=Object.values(e.rangeObj),a=e.maxValue,l=e.setRange,o=e.dataReady,d=document.getElementById("lowerbound"),c=document.getElementById("upperbound"),u=Object(r.useState)(0),s=Object(n.a)(u,2),m=s[0],f=s[1],p=Object(r.useState)(20),v=Object(n.a)(p,2),g=v[0],b=v[1];function h(){d.value=null,c.value=null}return i.a.createElement("div",{className:"window-interval"},o?i.a.createElement("div",null,i.a.createElement("div",{id:"text-select-display"},i.a.createElement("label",null," Showing iteration "),"\xa0",i.a.createElement("input",{id:"lowerbound",type:"number",onInput:function(e){o&&f(+e.target.value)},min:0,placeholder:t[0]}),"\xa0",i.a.createElement("label",null,"to iteration "),"\xa0",i.a.createElement("input",{id:"upperbound",type:"number",onInput:function(e){o&&b(+e.target.value)},min:0,placeholder:t[1]}),"\xa0",i.a.createElement("button",{onClick:function(){if(o){if(m>=g)return alert("Please select an interval where upperbound is greater than lowerbound"),void h();if(m>a||g>a)return alert("Range exceeds dataset length"),void h();l({start:m,end:g}),h()}}},"Apply"))):null)},h=a(47);var E=function(e){function t(t){t?(a(),document.documentElement.setAttribute("data-theme","dark"),e.setColorTheme(!0)):(a(),document.documentElement.setAttribute("data-theme","light"),e.setColorTheme(!1))}function a(){document.documentElement.classList.add("transition"),setTimeout((function(){document.documentElement.classList.remove("transition")}),1e3)}return i.a.createElement("div",{className:"input-panel"},i.a.createElement("h1",{id:"project-name"},"Time Series Plotter"),i.a.createElement("p",{id:"project-description"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),i.a.createElement("div",{id:"theme-changer"},i.a.createElement("div",{id:"light",onClick:function(){return t(!1)},value:!1},i.a.createElement("div",{id:"inner-default"},i.a.createElement("p",null,"Light Theme"))),i.a.createElement("div",{id:"dark",onClick:function(){return t(!0)}},i.a.createElement("div",{id:"inner-dark"},i.a.createElement("p",null,"Dark Theme")))),i.a.createElement("div",{id:"input-select-panel"},i.a.createElement("input",{name:"file",id:"file",type:"file",hidden:!0,onChange:e.handleUpload,autoComplete:"off"}),i.a.createElement("label",{htmlFor:"file",id:"file-label-panel"}," ",i.a.createElement(h.a,null)," Choose File To Begin Plotting ")))},y=a(109),O=(a(263),y.a.Range);var j=function(e){var t=e.maxValue,a=e.setRange,r=e.dataReady,l=Object.values(e.rangeObj);return i.a.createElement("div",{className:"range-interval"},i.a.createElement(O,{allowCross:!1,value:l,onChange:function(e){if(r){var t=Object(n.a)(e,2),i=t[0],l=t[1];a({start:i,end:l})}},max:t}))};var w=function(){var e=1;return{postDataSet:function(t){fetch("/api/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,data:t})}).then((function(){e+=1})).catch((function(e){return console.log(e)}))},exposeId:function(){return e}}},C=a(90),S=new w;var x=function(e){var t=new C,a=Object(r.useState)({data:"",head:"",ready:!1}),l=Object(n.a)(a,2),o=l[0],d=l[1],c=Object(r.useState)("init"),u=Object(n.a)(c,2),s=u[0],v=u[1],y=Object(r.useState)({states:["init"],data:["init"],ready:!1}),O=Object(n.a)(y,2),w=O[0],x=O[1],k=Object(r.useState)({start:0,end:200}),T=Object(n.a)(k,2),B=T[0],N=T[1],I=Object(r.useState)(!1),F=Object(n.a)(I,2),A=F[0],D=F[1],L=Object(r.useState)("default"),R=Object(n.a)(L,2),U=R[0],q=R[1],H=function(){var a=document.getElementById("file").files[0];q(a.name);var n=new FileReader;n.onload=function(n){if(S.postDataSet(n.target.result),t.setData(n.target.result),d({head:t.getHead(),data:t.getBody(),ready:!0}),x({states:w.states,data:w.data,ready:!1}),document.getElementById("selector").value="DEFAULT",N({start:0,end:200}),document.getElementById("window-slider").value=0,!document.getElementById("home-main-active")){var r=document.getElementById("home-main");r.id=r.id+"-active"}e.setFileNames(e.dataFileNames.concat({id:S.exposeId(),fileName:a.name})),document.getElementById("data-selector").value=S.exposeId()},n.readAsText(a)};return Object(r.useEffect)((function(){"init"!==s&&x({states:t.query(o.head,o.data,o.head[0]),data:t.query(o.head,o.data,s),ready:!0})}),[s]),i.a.createElement("div",{className:"home",id:"home-main"},o.ready?i.a.createElement("div",{id:"data-ready-group"},i.a.createElement("div",{id:"controls-wrapper"},i.a.createElement(m,{fileName:U,darkMode:A,head:o.head,array:w,select:s,rangeObj:B}),i.a.createElement("div",{id:"main-control-group"},i.a.createElement("div",{id:"input-and-data-section"},i.a.createElement("div",{id:"input-select"},i.a.createElement("input",{name:"file",id:"file",type:"file",hidden:!0,onChange:H,autoComplete:"off"}),i.a.createElement("label",{htmlFor:"file",id:"input-label"}," ",i.a.createElement(h.a,null)," Upload Additional File ")),"\xa0 \xa0 \xa0",i.a.createElement(g,{setFileName:q,setArray:x,array:w,setRange:N,availableFiles:e.dataFileNames,setData:d}),"\xa0 \xa0 \xa0",i.a.createElement(f,{variables:o.head,status:o.ready,setSelect:v})),i.a.createElement("div",{id:"range-interval-group"},i.a.createElement("p",null," Range Interval: "),i.a.createElement(j,{rangeObj:B,setRange:N,dataReady:o.ready,maxValue:w.data.length})),i.a.createElement("div",{id:"range-input-window"},i.a.createElement(p,{dataObj:o,setRange:N,rangeObj:B,dataArrayLength:w.data.length}),i.a.createElement(b,{rangeObj:B,setRange:N,dataReady:o.ready,maxValue:w.data.length}))))):i.a.createElement(E,{setColorTheme:D,handleUpload:H}))};function k(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],l=t[1];return i.a.createElement(x,{setFileNames:l,dataFileNames:a})}o.a.render(i.a.createElement(k,null),document.getElementById("root"))},90:function(e,t){e.exports=function(e){var t,a="init",n="init";return{getHead:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return n=e.split("\n")[0].split(/(\s+)/).filter((function(e){return e.trim().length>0}))},getBody:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=e.split("\n").slice(1),r=[],i=0;i<n.length;i++)r.push(n[i].split(/(\s+)/).filter((function(e){return e.trim().length>0})));return t=r,r},setData:function(e){a=e},query:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,r=arguments.length>2?arguments[2]:void 0,i=e.indexOf(r);if(-1!==i){for(var l=[],o=0;o<a.length;o++)l.push(a[o][i]);return l}console.log("bad query")}}}}},[[110,1,2]]]);
//# sourceMappingURL=main.65e7cf79.chunk.js.map